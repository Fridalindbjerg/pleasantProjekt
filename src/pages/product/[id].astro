---
import Layout from "../../layouts/Layout.astro";
export async function getStaticPaths() {
  const curl = "https://wgqakpwpodenybfzulqd.supabase.co/rest/v1/pleasant?select=*";

  const apikey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndncWFrcHdwb2RlbnliZnp1bHFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ0Nzc5NDUsImV4cCI6MjA2MDA1Mzk0NX0.9tn-XzeWsFEhOnlITP1uv6_kteUJ4MXDjyl-ypKzzsI";

  const options = {
    headers: {
      apikey: apikey,
    },
  };

  const response = await fetch(curl, options);
  const data = await response.json();

  return data.map((post) => {
    return {
      params: { id: post.id },
      props: { post },
    };
  });
}

const { id } = Astro.params;
const { post } = Astro.props;
---

<Layout>
  <main>
    <section class="wiggley">
      <h1>{post.productname}</h1>
      <img src={post.img1} alt="Produkt billede 1" />
      <img src={post.img2} alt="Produkt billede 2" />
      <p>{post.price}</p>
      <article>
        <!-- <img src="" alt="Symbol" /> -->
        <p>Unik og komfortabel.</p>
        <!-- <img src="" alt="Symbol" /> -->
        <p>Minimal miljøpåvirkning.</p>
        <!-- <img src="" alt="Symbol /> -->
        <p>Mindre spild. Mere natur.</p>
        <!-- <img src=" " alt="Symbol" /> -->
        <p>Dit valg gør en forskel.</p>
      </article>
      <ul>{post.size.map((str) => <li>{str}</li>)}</ul>
      <button>Læg i kurv</button>
    </section>

    <!-- BANNER -->

    <section>
      <h2>Prøv vores andre styles</h2>
      <!-- Sæt Fridas card ind -->
    </section>
  </main>
</Layout>

<style>
  h1,
  h2,
  h3,
  h4 {
    font-family: Pleasant-header, sans-serif;
  }

  p {
    font-family: Pleasant-paragraph;
  }

  body {
    background-color: rgb(243, 240, 232);
  }

  .wiggley {
    border: 5px solid rgb(214, 124, 28);
  }

  main {
    max-width: 90%;
    margin: auto;
  }

  button {
    border: none;
    background-color: rgb(136, 190, 172);
    font-family: Pleasant-paragraph;
    width: 90%;
    display: flex;
    justify-content: center;
    padding: 10px;
  }
</style>
